!function(e){function t(i){if(s[i])return s[i].exports;var n=s[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var s={};return t.m=e,t.c=s,t.p="",t(0)}([function(e,t,s){s(2),e.exports=s(28)},,function(e,t,s){"use strict";var i=s(3),n=s(4),o=s(10),a=s(14),r=a("meta[name=acpt]").attr("content");a.ajaxSetup({beforeSend:function(e){e.setRequestHeader("X-acpt",r)}});var l=a("meta[name=base-url]").attr("content");o.set("base_url",l),i.render(i.createElement(n,null),document.getElementById("react-app"))},function(e,t){e.exports=React},function(e,t,s){"use strict";var i=s(3),n=s(5),o=s(16),a=s(17),r=s(25),l=s(26),p=s(13);e.exports=i.createClass({displayName:"HipChatAliasApp",propTypes:{aliases:i.PropTypes.arrayOf(i.PropTypes.shape({alias:i.PropTypes.string.isRequired,mentions:i.PropTypes.arrayOf(i.PropTypes.string).isRequired})).isRequired},getInitialState:function(){return this._getState()},componentDidMount:function(){o.on("change",this._onChange),n.fetchAliases()},componentWillUnmount:function(){o.off("change",this._onChange)},_onChange:function(){this.setState(this._getState())},_getState:function(){return{aliases:o.get("aliases"),adding_alias:o.get("adding_alias"),loading:o.get("loading")}},_renderAlias:function(e){return i.createElement(a,{alias:e.alias,mentions:e.mentions})},_renderAliases:function(){return p.map(this.state.aliases,this._renderAlias)},_renderAddNew:function(){return i.createElement(r,null)},_configureNewAlias:function(){n.configureNewAlias()},render:function(){return this.state.loading?i.createElement("div",{className:"dialog"},i.createElement(l,{size:"medium",spin:!0})):this.state.adding_alias||0===this.state.aliases.length?this._renderAddNew():i.createElement("div",{className:"dialog"},i.createElement("table",{className:"aui aui-table-interactive aliases-container"},i.createElement("tbody",{className:"aliases"},this._renderAliases())),i.createElement("div",null,i.createElement("a",{className:"aui-button aui-button-link",onClick:this._configureNewAlias},"Configure a new alias")))}})},function(e,t,s){"use strict";var i=s(6),n=s(10),o=s(14),a=s(15),r=s(13),l={fetchAliases:function(){var e=n.get("base_url");o.ajax({url:e+"/alias",type:"GET",dataType:"json"}).done(function(e){i.dispatch({type:"aliases-fetched",payload:e})})},deleteAlias:function(e){var t=n.get("base_url");o.ajax({url:t+"/alias/"+e,type:"DELETE"}).done(function(){i.dispatch({type:"alias-deleted",alias:e})})},appendAliasToChat:function(e){var t=e.alias+"：";r.each(e.mentions,function(e){t+=e+" "}),a.require(["chat","dialog"],function(e,s){e.appendMessage(t),s.close()})},getUsers:function(e,t){var s=n.get("base_url");o.ajax({url:s+"/room_participants",type:"GET",dataType:"json"}).done(function(e){var s=r.map(e,function(e){return{value:"@"+e.mention_name,label:"@"+e.mention_name}});t(null,{options:s,complete:!0})})},updateMentions:function(e,t){var s=n.get("base_url");o.ajax({url:s+"/alias/"+e,type:"PUT",contentType:"application/json",data:JSON.stringify({mentions:t})}).done(function(){i.dispatch({type:"alias-updated",payload:{alias:e,mentions:t}})})},saveAlias:function(e,t){var s=n.get("base_url");o.ajax({url:s+"/alias/"+e,type:"POST",contentType:"application/json",data:JSON.stringify({mentions:t}),dataType:"json"}).done(function(e){i.dispatch({type:"alias-saved",payload:e})})},configureNewAlias:function(){i.dispatch({type:"configure-new-alias"})}};e.exports=l},function(e,t,s){"use strict";var i=s(7).Dispatcher;e.exports=new i},function(e,t,s){e.exports.Dispatcher=s(8)},function(e,t,s){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var n=s(9),o="ID_",a=function(){function e(){i(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t=o+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]?void 0:n(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching?void 0:n(!1);for(var t=0;t<e.length;t++){var s=e[t];this._isPending[s]?this._isHandled[s]?void 0:n(!1):(this._callbacks[s]?void 0:n(!1),this._invokeCallback(s))}},e.prototype.dispatch=function(e){this._isDispatching?n(!1):void 0,this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=a},function(e,t,s){"use strict";var i=function(e,t,s,i,n,o,a,r){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[s,i,n,o,a,r],u=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return p[u++]}))}throw l.framesToPop=1,l}};e.exports=i},function(e,t,s){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),a=function(e,t,s){for(var i=!0;i;){var n=e,o=t,a=s;r=p=l=void 0,i=!1,null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,o);if(void 0!==r){if("value"in r)return r.value;var l=r.get;return void 0===l?void 0:l.call(a)}var p=Object.getPrototypeOf(n);if(null===p)return void 0;e=p,t=o,s=a,i=!0}},r=s(11),l=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),o(t,[{key:"getDefaults",value:function(){return{base_url:""}}}]),t}(r);e.exports=new l},function(e,t,s){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return p.isArray(e)?e:[e]}var a=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),r=function(e,t,s){for(var i=!0;i;){var n=e,o=t,a=s;r=p=l=void 0,i=!1,null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,o);if(void 0!==r){if("value"in r)return r.value;var l=r.get;return void 0===l?void 0:l.call(a)}var p=Object.getPrototypeOf(n);if(null===p)return void 0;e=p,t=o,s=a,i=!0}},l=s(12).EventEmitter,p=s(13),u=function(e){function t(){i(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.data=this.getDefaults(),this.registerListeners()}return n(t,e),a(t,[{key:"has",value:function(e){return this.data.hasOwnProperty(e)}},{key:"get",value:function(e){return this.data[e]}},{key:"getAll",value:function(){return this.data}},{key:"setIfNotEqual",value:function(e,t){var s=e;void 0!==t&&(s={},s[e]=t),this.doSet(s,!0)}},{key:"set",value:function(e,t){var s=e;void 0!==t&&(s={},s[e]=t),this.doSet(s,!1)}},{key:"doSet",value:function(e,t){var s={},i=!1;p.keys(e).forEach(function(n){var o=!t||t&&!p.isEqual(e[n],this.data[n]);if(o){i=!0;var a=this.get(n),r=e[n];this.data[n]=r,s[n]=r,this.emit("change:"+n,r,a)}},this),(!t||t&&i)&&this.emit("change",s)}},{key:"unset",value:function(e){if(this.has(e)){var t=this.get(e);delete this.data[e],this.emit("change:"+e,void 0,t)}}},{key:"clear",value:function(){var e={};p.keys(this.data).forEach(function(t){e[t]=this.get(t),this.unset(t)},this),this.emit("change",e)}},{key:"registerListeners",value:function(){}},{key:"getDefaults",value:function(){return{}}},{key:"reset",value:function(){this.data=this.getDefaults()}},{key:"on",value:function(e,s){var i=this;o(e).forEach(function(e){return r(Object.getPrototypeOf(t.prototype),"on",i).call(i,e,s)})}},{key:"once",value:function(e,s){var i=this;o(e).forEach(function(e){return r(Object.getPrototypeOf(t.prototype),"once",i).call(i,e,s)})}},{key:"off",value:function(e,s){var i=this;o(e).forEach(function(e){return r(Object.getPrototypeOf(t.prototype),"removeListener",i).call(i,e,s)})}}]),t}(l);e.exports=u},function(e,t){function s(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function n(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0,s.defaultMaxListeners=10,s.prototype.setMaxListeners=function(e){if(!n(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},s.prototype.emit=function(e){var t,s,n,r,l,p;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(s=this._events[e],a(s))return!1;if(i(s))switch(arguments.length){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:for(n=arguments.length,r=new Array(n-1),l=1;n>l;l++)r[l-1]=arguments[l];s.apply(this,r)}else if(o(s)){for(n=arguments.length,r=new Array(n-1),l=1;n>l;l++)r[l-1]=arguments[l];for(p=s.slice(),n=p.length,l=0;n>l;l++)p[l].apply(this,r)}return!0},s.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var n;n=a(this._maxListeners)?s.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},s.prototype.on=s.prototype.addListener,s.prototype.once=function(e,t){function s(){this.removeListener(e,s),n||(n=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var n=!1;return s.listener=t,this.on(e,s),this},s.prototype.removeListener=function(e,t){var s,n,a,r;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=this._events[e],a=s.length,n=-1,s===t||i(s.listener)&&s.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(s)){for(r=a;r-->0;)if(s[r]===t||s[r].listener&&s[r].listener===t){n=r;break}if(0>n)return this;1===s.length?(s.length=0,delete this._events[e]):s.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},s.prototype.removeAllListeners=function(e){var t,s;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(s=this._events[e],i(s))this.removeListener(e,s);else for(;s.length;)this.removeListener(e,s[s.length-1]);return delete this._events[e],this},s.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},s.listenerCount=function(e,t){var s;return s=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},function(e,t){e.exports=_},function(e,t){e.exports=$},function(e,t){e.exports=AP},function(e,t,s){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),a=function(e,t,s){for(var i=!0;i;){var n=e,o=t,a=s;r=p=l=void 0,i=!1,null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,o);if(void 0!==r){if("value"in r)return r.value;var l=r.get;return void 0===l?void 0:l.call(a)}var p=Object.getPrototypeOf(n);if(null===p)return void 0;e=p,t=o,s=a,i=!0}},r=s(11),l=s(6),p=s(13),u=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),o(t,[{key:"getDefaults",value:function(){return{aliases:[],adding_alias:!1,loading:!0}}},{key:"registerListeners",value:function(){var e=this;this.dispatchToken=l.register(function(t){switch(t.type){case"aliases-fetched":e.set({aliases:t.payload,loading:!1});break;case"alias-deleted":var s=p.filter(e.data.aliases,function(e){return e.alias!==t.alias});e.set("aliases",s);break;case"alias-updated":var i=p.find(e.data.aliases,function(e){return e.alias===t.payload.alias});i.mentions=t.payload.mentions,e.set("aliases",e.data.aliases);break;case"alias-saved":e.set({aliases:t.payload,adding_alias:!1});break;case"configure-new-alias":e.set({adding_alias:!0})}})}}]),t}(r);e.exports=new u},function(e,t,s){"use strict";var i=s(3),n=s(5),o=(s(16),s(18)),a=s(13);e.exports=i.createClass({displayName:"Alias",propTypes:{alias:i.PropTypes.string.isRequired,mentions:i.PropTypes.arrayOf(i.PropTypes.string).isRequired},getInitialState:function(){return{edit:!1,edited_mentions:null}},componentDidMount:function(){},_onChange:function(){this.setState(this._getState())},_getState:function(){return{}},_delete:function(e){n.deleteAlias(this.props.alias),e.stopPropagation()},_select:function(){n.appendAliasToChat({alias:this.props.alias,mentions:this.props.mentions})},_edit:function(e){this.setState({edit:!0}),e.stopPropagation()},_isValidEdit:function(){return!1},_renderEdit:function(){var e=this.state.edited_mentions||this.props.mentions;e.join(",");return i.createElement("tr",{className:"alias edit","data-alias":this.props.alias,key:this.props.alias},i.createElement("td",{className:"name"},i.createElement("span",{className:"hc-mention hc-mention-me"},this.props.alias)),i.createElement("td",{className:"mentions"},i.createElement(o,{initialMentions:e,onChange:this._onMentionsChange})),i.createElement("td",{className:"actions aui-compact-button-column"},i.createElement("a",{className:"aui-icon aui-icon-small aui-iconfont-success save",onClick:this._saveEdit,disabled:!this._isValidEdit()},"Edit"),i.createElement("a",{className:"aui-icon aui-icon-small aui-iconfont-undo cancel",onClick:this._cancelEdit},"Delete")))},_getSelectOptions:function(e,t){n.getUsers(e,t)},_saveEdit:function(){n.updateMentions(this.props.alias,a.isEmpty(this.state.edited_mentions)?this.props.mentions:this.state.edited_mentions),this.setState({edit:!1})},_cancelEdit:function(){this.setState({edit:!1})},_onMentionsChange:function(e){this.setState({edited_mentions:e})},render:function(){if(this.state.edit)return this._renderEdit();var e=a.map(this.props.mentions,function(e){return i.createElement("span",{className:"hc-mention"},{mention:e})});return i.createElement("tr",{className:"alias","data-alias":this.props.alias,key:this.props.alias,onClick:this._select},i.createElement("td",{className:"name"},i.createElement("span",{className:"hc-mention hc-mention-me"},this.props.alias)),i.createElement("td",{className:"mentions"},e),i.createElement("td",{className:"actions aui-compact-button-column"},i.createElement("a",{className:"aui-icon aui-icon-small aui-iconfont-edit edit",onClick:this._edit},"Edit"),i.createElement("a",{className:"aui-icon aui-icon-small aui-iconfont-delete delete",onClick:this._delete},"Delete")))}})},function(e,t,s){"use strict";var i=s(3),n=s(5),o=s(19),a=s(13);e.exports=i.createClass({displayName:"exports",getInitialState:function(){return{mentions:this.props.initialMentions}},_getSelectOptions:function(e,t){n.getUsers(e,t)},_onMentionsChange:function(e){var t=""!==e?e.split(","):[];t=a.map(t,function(e){return 0!==e.indexOf("@")&&(e="@"+e),e}),this.setState({mentions:t}),this.props.onChange(t)},render:function(){var e=this.state.mentions,t=e.join(",");return i.createElement(o,{multi:!0,allowCreate:!0,value:t,delimitier:",",asyncOptions:this._getSelectOptions,onChange:this._onMentionsChange})}})},function(e,t,s){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},n=s(3),o=s(20),a=s(21),r=s(22),l=s(23),p=s(24),u=0,c=n.createClass({displayName:"Select",propTypes:{addLabelText:n.PropTypes.string,allowCreate:n.PropTypes.bool,asyncOptions:n.PropTypes.func,autoload:n.PropTypes.bool,backspaceRemoves:n.PropTypes.bool,cacheAsyncResults:n.PropTypes.bool,className:n.PropTypes.string,clearAllText:n.PropTypes.string,clearValueText:n.PropTypes.string,clearable:n.PropTypes.bool,delimiter:n.PropTypes.string,disabled:n.PropTypes.bool,filterOption:n.PropTypes.func,filterOptions:n.PropTypes.func,ignoreCase:n.PropTypes.bool,inputProps:n.PropTypes.object,matchPos:n.PropTypes.string,matchProp:n.PropTypes.string,multi:n.PropTypes.bool,name:n.PropTypes.string,newOptionCreator:n.PropTypes.func,noResultsText:n.PropTypes.string,onBlur:n.PropTypes.func,onChange:n.PropTypes.func,onFocus:n.PropTypes.func,onOptionLabelClick:n.PropTypes.func,optionComponent:n.PropTypes.func,optionRenderer:n.PropTypes.func,options:n.PropTypes.array,placeholder:n.PropTypes.string,searchable:n.PropTypes.bool,searchingText:n.PropTypes.string,searchPromptText:n.PropTypes.string,singleValueComponent:n.PropTypes.func,value:n.PropTypes.any,valueComponent:n.PropTypes.func,valueRenderer:n.PropTypes.func},getDefaultProps:function(){return{addLabelText:'Add "{label}"?',allowCreate:!1,asyncOptions:void 0,autoload:!0,backspaceRemoves:!0,cacheAsyncResults:!0,className:void 0,clearAllText:"Clear all",clearValueText:"Clear value",clearable:!0,delimiter:",",disabled:!1,ignoreCase:!0,inputProps:{},matchPos:"any",matchProp:"any",name:void 0,newOptionCreator:void 0,noResultsText:"No results found",onChange:void 0,onOptionLabelClick:void 0,optionComponent:p,options:void 0,placeholder:"Select...",searchable:!0,searchingText:"Searching...",searchPromptText:"Type to search",singleValueComponent:l,value:void 0,valueComponent:r}},getInitialState:function(){return{isFocused:!1,isLoading:!1,isOpen:!1,options:this.props.options}},componentWillMount:function(){var e=this;this._optionsCache={},this._optionsFilterString="",this._closeMenuIfClickedOutside=function(t){if(e.state.isOpen){var s=n.findDOMNode(e.refs.selectMenuContainer),i=n.findDOMNode(e.refs.control),o=e.clickedOutsideElement(s,t),a=e.clickedOutsideElement(i,t);o&&a&&e.setState({isOpen:!1},e._unbindCloseMenuIfClickedOutside)}},this._bindCloseMenuIfClickedOutside=function(){!document.addEventListener&&document.attachEvent?document.attachEvent("onclick",this._closeMenuIfClickedOutside):document.addEventListener("click",this._closeMenuIfClickedOutside)},this._unbindCloseMenuIfClickedOutside=function(){!document.removeEventListener&&document.detachEvent?document.detachEvent("onclick",this._closeMenuIfClickedOutside):document.removeEventListener("click",this._closeMenuIfClickedOutside)},this.setState(this.getStateFromValue(this.props.value))},componentDidMount:function(){this.props.asyncOptions&&this.props.autoload&&this.autoloadAsyncOptions()},componentWillUnmount:function(){clearTimeout(this._blurTimeout),clearTimeout(this._focusTimeout),this.state.isOpen&&this._unbindCloseMenuIfClickedOutside()},componentWillReceiveProps:function(e){var t=this,s=!1;if(JSON.stringify(e.options)!==JSON.stringify(this.props.options)&&(s=!0,this.setState({options:e.options,filteredOptions:this.filterOptions(e.options)})),e.value!==this.state.value||e.placeholder!==this.props.placeholder||s){var i=function(s){t.setState(t.getStateFromValue(e.value,s&&s.options||e.options,e.placeholder))};this.props.asyncOptions?this.loadAsyncOptions(e.value,{},i):i()}},componentDidUpdate:function(){var e=this;if(!this.props.disabled&&this._focusAfterUpdate&&(clearTimeout(this._blurTimeout),this._focusTimeout=setTimeout(function(){e.getInputNode().focus(),e._focusAfterUpdate=!1},50)),this._focusedOptionReveal){if(this.refs.focused&&this.refs.menu){var t=n.findDOMNode(this.refs.focused),s=n.findDOMNode(this.refs.menu),i=t.getBoundingClientRect(),o=s.getBoundingClientRect();(i.bottom>o.bottom||i.top<o.top)&&(s.scrollTop=t.offsetTop+t.clientHeight-s.offsetHeight)}this._focusedOptionReveal=!1}},focus:function(){this.getInputNode().focus()},clickedOutsideElement:function(e,t){for(var s=t.target?t.target:t.srcElement;null!=s;){if(s===e)return!1;s=s.offsetParent}return!0},getStateFromValue:function(e,t,s){t||(t=this.state.options),s||(s=this.props.placeholder),this._optionsFilterString="";var i,n=this.initValuesArray(e,t),o=this.filterOptions(t,n),a=null;return!this.props.multi&&n.length?(i=n[0],a=n[0].value):(i=this.getFirstFocusableOption(o),a=n.map(function(e){return e.value}).join(this.props.delimiter)),{value:a,values:n,inputValue:"",filteredOptions:o,placeholder:!this.props.multi&&n.length?n[0].label:s,focusedOption:i}},getFirstFocusableOption:function(e){for(var t=0;t<e.length;++t)if(!e[t].disabled)return e[t]},initValuesArray:function(e,t){return Array.isArray(e)||(e="string"==typeof e?""===e?[]:e.split(this.props.delimiter):void 0!==e&&null!==e?[e]:[]),e.map(function(e){if("string"==typeof e||"number"==typeof e){for(var s in t)if(t.hasOwnProperty(s)&&t[s]&&(t[s].value===e||"number"==typeof t[s].value&&t[s].value.toString()===e))return t[s];return{value:e,label:e}}return e})},setValue:function(e,t){(t||void 0===t)&&(this._focusAfterUpdate=!0);var s=this.getStateFromValue(e);s.isOpen=!1,this.fireChangeEvent(s),this.setState(s)},selectValue:function(e){this.props.multi?e&&this.addValue(e):this.setValue(e),this._unbindCloseMenuIfClickedOutside()},addValue:function(e){this.setValue(this.state.values.concat(e))},popValue:function(){this.setValue(this.state.values.slice(0,this.state.values.length-1))},removeValue:function(e){this.setValue(this.state.values.filter(function(t){return t!==e}))},clearValue:function(e){e&&"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.setValue(null))},resetValue:function(){this.setValue(""===this.state.value?null:this.state.value)},getInputNode:function(){var e=this.refs.input;return this.props.searchable?e:n.findDOMNode(e)},fireChangeEvent:function(e){e.value!==this.state.value&&this.props.onChange&&this.props.onChange(e.value,e.values)},handleMouseDown:function(e){return this.props.disabled||"mousedown"===e.type&&0!==e.button?void 0:(e.stopPropagation(),e.preventDefault(),this.state.isOpen&&!this.props.searchable?void this.setState({isOpen:!1},this._unbindCloseMenuIfClickedOutside):void(this.state.isFocused?this.setState({isOpen:!0},this._bindCloseMenuIfClickedOutside):(this._openAfterFocus=!0,this.getInputNode().focus())))},handleMouseDownOnArrow:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||this.state.isOpen&&(e.stopPropagation(),e.preventDefault(),this.setState({isOpen:!1},this._unbindCloseMenuIfClickedOutside))},handleInputFocus:function(e){var t=this.state.isOpen||this._openAfterFocus;this.setState({isFocused:!0,isOpen:t},function(){t?this._bindCloseMenuIfClickedOutside():this._unbindCloseMenuIfClickedOutside()}),this._openAfterFocus=!1,this.props.onFocus&&this.props.onFocus(e)},handleInputBlur:function(e){var t=this;this._blurTimeout=setTimeout(function(){t._focusAfterUpdate||t.setState({isFocused:!1,isOpen:!1})},50),this.props.onBlur&&this.props.onBlur(e)},handleKeyDown:function(e){if(!this.props.disabled){switch(e.keyCode){case 8:return void(!this.state.inputValue&&this.props.backspaceRemoves&&this.popValue());case 9:if(e.shiftKey||!this.state.isOpen||!this.state.focusedOption)return;this.selectFocusedOption();break;case 13:if(!this.state.isOpen)return;this.selectFocusedOption();break;case 27:this.state.isOpen?this.resetValue():this.props.clearable&&this.clearValue(e);break;case 38:this.focusPreviousOption();break;case 40:this.focusNextOption();break;case 188:if(!this.props.allowCreate||!this.props.multi)return;e.preventDefault(),e.stopPropagation(),this.selectFocusedOption();break;default:return}e.preventDefault()}},_getNewFocusedOption:function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t]===this.state.focusedOption)return e[t];return this.getFirstFocusableOption(e)},handleInputChange:function(e){if(this._optionsFilterString=e.target.value,this.props.asyncOptions)this.setState({isLoading:!0,inputValue:e.target.value}),this.loadAsyncOptions(e.target.value,{isLoading:!1,isOpen:!0},this._bindCloseMenuIfClickedOutside);else{var t=this.filterOptions(this.state.options);this.setState({isOpen:!0,inputValue:e.target.value,filteredOptions:t,focusedOption:this._getNewFocusedOption(t)},this._bindCloseMenuIfClickedOutside)}},autoloadAsyncOptions:function(){var e=this;this.loadAsyncOptions(this.props.value||"",{},function(){e.setValue(e.props.value,!1)})},loadAsyncOptions:function(e,t,s){var i=this,n=this._currentRequestId=u++;if(this.props.cacheAsyncResults)for(var o=0;o<=e.length;o++){var a=e.slice(0,o);if(this._optionsCache[a]&&(e===a||this._optionsCache[a].complete)){var r=this._optionsCache[a].options,l=this.filterOptions(r),p={options:r,filteredOptions:l,focusedOption:this._getNewFocusedOption(l)};for(var c in t)t.hasOwnProperty(c)&&(p[c]=t[c]);return this.setState(p),void(s&&s.call(this,p))}}this.props.asyncOptions(e,function(o,a){if(o)throw o;if(i.props.cacheAsyncResults&&(i._optionsCache[e]=a),n===i._currentRequestId){var r=i.filterOptions(a.options),l={options:a.options,filteredOptions:r,focusedOption:i._getNewFocusedOption(r)};for(var p in t)t.hasOwnProperty(p)&&(l[p]=t[p]);i.setState(l),s&&s.call(i,l)}})},filterOptions:function(e,t){var s=this._optionsFilterString,i=(t||this.state.values).map(function(e){return e.value});if(this.props.filterOptions)return this.props.filterOptions.call(this,e,s,i);var n=function(e){if(this.props.multi&&i.indexOf(e.value)>-1)return!1;if(this.props.filterOption)return this.props.filterOption.call(this,e,s);var t=String(e.value),n=String(e.label);return this.props.ignoreCase&&(t=t.toLowerCase(),n=n.toLowerCase(),s=s.toLowerCase()),s&&"start"!==this.props.matchPos?"label"!==this.props.matchProp&&t.indexOf(s)>=0||"value"!==this.props.matchProp&&n.indexOf(s)>=0:"label"!==this.props.matchProp&&t.substr(0,s.length)===s||"value"!==this.props.matchProp&&n.substr(0,s.length)===s};return(e||[]).filter(n,this)},selectFocusedOption:function(){return this.props.allowCreate&&!this.state.focusedOption?this.selectValue(this.state.inputValue):this.state.focusedOption?this.selectValue(this.state.focusedOption):void 0},focusOption:function(e){this.setState({focusedOption:e})},focusNextOption:function(){this.focusAdjacentOption("next")},focusPreviousOption:function(){this.focusAdjacentOption("previous")},focusAdjacentOption:function(e){this._focusedOptionReveal=!0;var t=this.state.filteredOptions.filter(function(e){return!e.disabled});if(!this.state.isOpen)return void this.setState({isOpen:!0,inputValue:"",focusedOption:this.state.focusedOption||t["next"===e?0:t.length-1]},this._bindCloseMenuIfClickedOutside);if(t.length){for(var s=-1,i=0;i<t.length;i++)if(this.state.focusedOption===t[i]){s=i;break}var n=t[0];"next"===e&&s>-1&&s<t.length-1?n=t[s+1]:"previous"===e&&(n=s>0?t[s-1]:t[t.length-1]),this.setState({focusedOption:n})}},unfocusOption:function(e){this.state.focusedOption===e&&this.setState({focusedOption:null})},buildMenu:function(){var e=this.state.focusedOption?this.state.focusedOption.value:null,t=this.props.optionRenderer||function(e){return e.label};this.state.filteredOptions.length>0&&(e=null==e?this.state.filteredOptions[0]:e);var s=this.state.filteredOptions;if(this.props.allowCreate&&this.state.inputValue.trim()){var i=this.state.inputValue;s=s.slice();var o=this.props.newOptionCreator?this.props.newOptionCreator(i):{value:i,label:i,create:!0};s.unshift(o)}var r=Object.keys(s).map(function(i){var o=s[i],r=this.state.value===o.value,l=e===o.value,p=a({"Select-option":!0,"is-selected":r,"is-focused":l,"is-disabled":o.disabled}),u=l?"focused":null,c=this.focusOption.bind(this,o),h=this.unfocusOption.bind(this,o),d=this.selectValue.bind(this,o),f=n.createElement(this.props.optionComponent,{key:"option-"+o.value,className:p,renderFunc:t,mouseEnter:c,mouseLeave:h,mouseDown:d,click:d,addLabelText:this.props.addLabelText,option:o,ref:u});return f},this);if(r.length)return r;var l,p;return this.state.isLoading?(p="Select-searching",l=this.props.searchingText):this.state.inputValue||!this.props.asyncOptions?(p="Select-noresults",l=this.props.noResultsText):(p="Select-search-prompt",l=this.props.searchPromptText),n.createElement("div",{className:p},l)},handleOptionLabelClick:function(e,t){this.props.onOptionLabelClick&&this.props.onOptionLabelClick(e,t)},render:function(){var e=a("Select",this.props.className,{"is-multi":this.props.multi,"is-searchable":this.props.searchable,"is-open":this.state.isOpen,"is-focused":this.state.isFocused,"is-loading":this.state.isLoading,"is-disabled":this.props.disabled,"has-value":this.state.value}),t=[];if(this.props.multi&&this.state.values.forEach(function(e){var s=this.handleOptionLabelClick.bind(this,e),i=this.removeValue.bind(this,e),o=n.createElement(this.props.valueComponent,{key:e.value,option:e,renderer:this.props.valueRenderer,optionLabelClick:!!this.props.onOptionLabelClick,onOptionLabelClick:s,onRemove:i,disabled:this.props.disabled});t.push(o)},this),!(this.state.inputValue||this.props.multi&&t.length)){var s=this.state.values[0]||null;if(this.props.valueRenderer&&this.state.values.length)t.push(n.createElement(r,{key:0,option:s,renderer:this.props.valueRenderer,disabled:this.props.disabled}));else{var l=n.createElement(this.props.singleValueComponent,{key:"placeholder",value:s,placeholder:this.state.placeholder});t.push(l)}}var p,u,c=this.state.isLoading?n.createElement("span",{className:"Select-loading","aria-hidden":"true"}):null,h=this.props.clearable&&this.state.value&&!this.props.disabled?n.createElement("span",{className:"Select-clear",title:this.props.multi?this.props.clearAllText:this.props.clearValueText,"aria-label":this.props.multi?this.props.clearAllText:this.props.clearValueText,onMouseDown:this.clearValue,onClick:this.clearValue,dangerouslySetInnerHTML:{__html:"&times;"}}):null;
this.state.isOpen&&(u={ref:"menu",className:"Select-menu",onMouseDown:this.handleMouseDown},p=n.createElement("div",{ref:"selectMenuContainer",className:"Select-menu-outer"},n.createElement("div",u,this.buildMenu())));var d,f={ref:"input",className:"Select-input "+(this.props.inputProps.className||""),tabIndex:this.props.tabIndex||0,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur};for(var m in this.props.inputProps)this.props.inputProps.hasOwnProperty(m)&&"className"!==m&&(f[m]=this.props.inputProps[m]);return this.props.disabled?this.props.multi&&this.state.values.length||(d=n.createElement("div",{className:"Select-input"}," ")):d=this.props.searchable?n.createElement(o,i({value:this.state.inputValue,onChange:this.handleInputChange,minWidth:"5"},f)):n.createElement("div",f," "),n.createElement("div",{ref:"wrapper",className:e},n.createElement("input",{type:"hidden",ref:"value",name:this.props.name,value:this.state.value,disabled:this.props.disabled}),n.createElement("div",{className:"Select-control",ref:"control",onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},t,d,n.createElement("span",{className:"Select-arrow-zone",onMouseDown:this.handleMouseDownOnArrow}),n.createElement("span",{className:"Select-arrow",onMouseDown:this.handleMouseDownOnArrow}),c,h),p)}});e.exports=c},function(e,t,s){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},n=s(3),o={position:"absolute",visibility:"hidden",height:0,width:0,overflow:"scroll",whiteSpace:"nowrap"},a=n.createClass({displayName:"AutosizeInput",propTypes:{value:n.PropTypes.any,defaultValue:n.PropTypes.any,onChange:n.PropTypes.func,style:n.PropTypes.object,className:n.PropTypes.string,minWidth:n.PropTypes.oneOfType([n.PropTypes.number,n.PropTypes.string]),inputStyle:n.PropTypes.object,inputClassName:n.PropTypes.string},getDefaultProps:function(){return{minWidth:1}},getInitialState:function(){return{inputWidth:this.props.minWidth}},componentDidMount:function(){this.copyInputStyles(),this.updateInputWidth()},componentDidUpdate:function(){this.updateInputWidth()},copyInputStyles:function(){if(this.isMounted()&&window.getComputedStyle){var e=window.getComputedStyle(n.findDOMNode(this.refs.input)),t=n.findDOMNode(this.refs.sizer);if(t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.letterSpacing=e.letterSpacing,this.props.placeholder){var s=n.findDOMNode(this.refs.placeholderSizer);s.style.fontSize=e.fontSize,s.style.fontFamily=e.fontFamily,s.style.letterSpacing=e.letterSpacing}}},updateInputWidth:function(){if(this.isMounted()&&"undefined"!=typeof n.findDOMNode(this.refs.sizer).scrollWidth){var e;e=this.props.placeholder?Math.max(n.findDOMNode(this.refs.sizer).scrollWidth,n.findDOMNode(this.refs.placeholderSizer).scrollWidth)+2:n.findDOMNode(this.refs.sizer).scrollWidth+2,e<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}},getInput:function(){return this.refs.input},focus:function(){n.findDOMNode(this.refs.input).focus()},select:function(){n.findDOMNode(this.refs.input).select()},render:function(){var e=(this.props.value||"").replace(/\&/g,"&amp;").replace(/ /g,"&nbsp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;"),t=this.props.style||{};t.display="inline-block";var s=i({},this.props.inputStyle);s.width=this.state.inputWidth,s.boxSizing="content-box";var a=this.props.placeholder?n.createElement("div",{ref:"placeholderSizer",style:o},this.props.placeholder):null;return n.createElement("div",{className:this.props.className,style:t},n.createElement("input",i({},this.props,{ref:"input",className:this.props.inputClassName,style:s})),n.createElement("div",{ref:"sizer",style:o,dangerouslySetInnerHTML:{__html:e}}),a)}});e.exports=a},function(e,t,s){var i;/*!
	  Copyright (c) 2015 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e="",t=0;t<arguments.length;t++){var s=arguments[t];if(s){var i=typeof s;if("string"===i||"number"===i)e+=" "+s;else if(Array.isArray(s))e+=" "+n.apply(null,s);else if("object"===i)for(var o in s)s.hasOwnProperty(o)&&s[o]&&(e+=" "+o)}}return e.substr(1)}"undefined"!=typeof e&&e.exports?e.exports=n:(i=function(){return n}.call(t,s,t,e),!(void 0!==i&&(e.exports=i)))}()},function(e,t,s){"use strict";var i=s(3),n=s(21),o=i.createClass({displayName:"Value",propTypes:{disabled:i.PropTypes.bool,onOptionLabelClick:i.PropTypes.func,onRemove:i.PropTypes.func,option:i.PropTypes.object.isRequired,optionLabelClick:i.PropTypes.bool,renderer:i.PropTypes.func},blockEvent:function(e){e.stopPropagation()},handleOnRemove:function(e){this.props.disabled||this.props.onRemove(e)},render:function(){var e=this.props.option.label;return this.props.renderer&&(e=this.props.renderer(this.props.option)),this.props.onRemove||this.props.optionLabelClick?(this.props.optionLabelClick&&(e=i.createElement("a",{className:n("Select-item-label__a",this.props.option.className),onMouseDown:this.blockEvent,onTouchEnd:this.props.onOptionLabelClick,onClick:this.props.onOptionLabelClick,style:this.props.option.style,title:this.props.option.title},e)),i.createElement("div",{className:n("Select-item",this.props.option.className),style:this.props.option.style,title:this.props.option.title},i.createElement("span",{className:"Select-item-icon",onMouseDown:this.blockEvent,onClick:this.handleOnRemove,onTouchEnd:this.handleOnRemove},"×"),i.createElement("span",{className:"Select-item-label"},e))):i.createElement("div",{className:n("Select-value",this.props.option.className),style:this.props.option.style,title:this.props.option.title},e)}});e.exports=o},function(e,t,s){"use strict";var i=s(3),n=s(21),o=i.createClass({displayName:"SingleValue",propTypes:{placeholder:i.PropTypes.string,value:i.PropTypes.object},render:function(){var e=n("Select-placeholder",this.props.value&&this.props.value.className);return i.createElement("div",{className:e,style:this.props.value&&this.props.value.style,title:this.props.value&&this.props.value.title},this.props.placeholder)}});e.exports=o},function(e,t,s){"use strict";var i=s(3),n=s(21),o=i.createClass({displayName:"Option",propTypes:{addLabelText:i.PropTypes.string,className:i.PropTypes.string,mouseDown:i.PropTypes.func,mouseEnter:i.PropTypes.func,mouseLeave:i.PropTypes.func,option:i.PropTypes.object.isRequired,renderFunc:i.PropTypes.func},blockEvent:function(e){e.preventDefault(),"A"===e.target.tagName&&"href"in e.target&&(e.target.target?window.open(e.target.href):window.location.href=e.target.href)},render:function(){var e=this.props.option,t=this.props.renderFunc(e),s=n(this.props.className,e.className);return e.disabled?i.createElement("div",{className:s,onMouseDown:this.blockEvent,onClick:this.blockEvent},t):i.createElement("div",{className:s,style:e.style,onMouseEnter:this.props.mouseEnter,onMouseLeave:this.props.mouseLeave,onMouseDown:this.props.mouseDown,onClick:this.props.mouseDown,title:e.title},e.create?this.props.addLabelText.replace("{label}",e.label):t)}});e.exports=o},function(e,t,s){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},n=s(18),o=s(5),a=s(13);e.exports=React.createClass({displayName:"exports",getInitialState:function(){return{name_field_error:null,mentions:[],name:null}},_onNameChange:function(e){var t=e.target.value,s=this.state.name_field_error;s=0!==t.indexOf("@")||t.length<3?"Alias name must start with @ and be longer than 3 characters.":null,this.setState({name:e.target.value,name_field_error:s})},_onMentionsChange:function(e){this.setState({mentions:e})},_onChange:function(){this.setState(this._getState())},_getState:function(){return{name_field_error:null,valid:!1}},_saveAlias:function(e){o.saveAlias(this.state.name,this.state.mentions),e.preventDefault()},_isValid:function(){return a.isNull(this.state.name_field_error)&&!a.isNull(this.state.name)&&this.state.mentions.length>0},render:function(){var e={"data-aui-notification-field":!0,"data-aui-notification-position":"top"};return a.isNull(this.state.name_field_error)?e["data-aui-notification-info"]="Must start with @":e["data-aui-notification-error"]=this.state.name_field_error,React.createElement("div",{className:"dialog"},React.createElement("div",{className:"aui-group instruction"},React.createElement("div",{className:"aui-item image"}),React.createElement("div",{className:"aui-item description"},React.createElement("h4",null,"Alias"),React.createElement("div",null,"Do you want to mention a bunch of people at the same time? Alias got you covered. It will remember who's who and help you @mention your whole team."))),React.createElement("form",{className:"aui top-label"},React.createElement("div",{className:"aui-group add-new-alias"},React.createElement("div",{className:"aui-item name"},React.createElement("div",{className:"field-group"},React.createElement("input",i({type:"text",className:"text",name:"alias",placeholder:"Alias name..."},e,{onChange:this._onNameChange})))),React.createElement("div",{className:"aui-item mentions"},React.createElement(n,{initialMentions:[],onChange:this._onMentionsChange})),React.createElement("div",{className:"aui-item actions"},React.createElement("input",{className:"button submit",type:"submit",value:"Add",onClick:this._saveAlias,disabled:!this._isValid()})))))}})},function(e,t,s){"use strict";var i=s(27);s(14);e.exports=React.createClass({displayName:"Spinner",componentWillMount:function(){i(_.contains(["small","medium","large"],this.props.size),"Spinner size must be either small, medium or large")},getDefaultProps:function(){return{size:"medium",zIndex:100}},componentDidMount:function(){this._setSpinner()},componentDidUpdate:function(){this._setSpinner()},_setSpinner:function(){var e;this.refs.spinner&&(this.props.spin?(e=this._getOptions(),AJS.$(React.findDOMNode(this.refs.spinner)).spin(this.props.size,e)):AJS.$(React.findDOMNode(this.refs.spinner)).spinStop())},_getOptions:function(){var e=this.props,t={color:"#000000"};return this.props.color||(t.color="#000000",e=_.merge(e,t)),e},render:function(){return React.createElement("div",{className:"hc-spinner "+(this.props.spinner_class?this.props.spinner_class:""),ref:"spinner"})}})},function(e,t,s){"use strict";var i=function(e,t,s,i,n,o,a,r){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[s,i,n,o,a,r],u=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return p[u++]}))}throw l.framesToPop=1,l}};e.exports=i},function(e,t){}]);